s1 = []   #/????????????????????§??????????????????
s2 = []   #??????????°´??????????????¢??????[????????????\???????????????????°´??????????????¢???]?????¢??§????????§??????????????????
su = 0   #?????¢???

st = list(input())   #??\?????????????????????????´????????????????

for i in range(len(st)):   #???????????????????????????????????£????????¢????¨????
    if st[i] == '\\':
        s1.append(i)
    elif st[i] == '/' and len(s1) != 0:
        left = s1.pop()
        su += i - left
        area = 0
        while len(s2) != 0 and left < s2[-1][0]:
            area += s2.pop()[1]
        s2.append([left,area + i -left])

print(su)
print(' '.join([str(len(s2))] + [str(i[1]) for i in s2]))